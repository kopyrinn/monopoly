<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="d-flex">
		<div class="player-info-1">
			<h2>Игрок 1</h2>
			<h3 class="number1">0</h3>
			<img src="dice.png" class="dice1 w-50">
			<h5>Деньги: <span class="player1_money">0</span>$</h5>
			<div class="player1_companies">
				<p class="companies">Купленные компании:</p>
			</div>
		</div>
		<div class="content">
			<img src="player1.png" class="player1" style="top:145px; left:20px;">
			<img src="player2.png" class="player2" style="top:145px; left:70px;">
			<!--первая линия-->
			<div class="boxs top-bottom-side" style="left: 20px; top:145px">
				<h4>START</h4>
			</div>
			<div class="boxs top-bottom-side" style="left: 130px; top:145px">
				<img src="roztor.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 240px; top:145px">
				<img src="aigul.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side"  style="left: 350px; top:145px">3
				КАЗНА
			</div>

			<div class="boxs top-bottom-side" style="left: 460px; top:145px">
				<img src="hozmarket.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 570px; top:145px">
				<img src="bershka.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 680px;   top:145px">6</div>

			<div class="boxs top-bottom-side" style="left: 790px; top:145px">
				<img src="zara.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 900px; top:145px">
				<img src="hm.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 1010px;  top:145px" >9</div>

			<!--вторая линия-->
			<div class="boxs top-bottom-side" style="left: 1120px; top:145px">10
				<p>иди назад на -5 клеток</p>
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 300px">
				<img src="burgerking.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 410px">
				<img src="kfc.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 520px">13</div>

			<div class="boxs left-right-side" style="left: 1120px;top: 630px">
				<img src="mcdonalds.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 740px">
				<img src="amd.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 850px">16</div>

			<div class="boxs left-right-side" style="left: 1120px; top: 960px">17</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 1070px">
				<img src="intel.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 1180px">
				<img src="nvidia.svg"  alt="" class="img" >
			</div>

			<!--третья линия-->
			<div class="boxs top-bottom-side" style="left: 1120px; top: 1330px; background: red">20</div>

			<div class="boxs top-bottom-side" style="left: 1010px; top: 1330px">21</div>
			<div class="boxs top-bottom-side" style="left: 900px; top: 1330px">
				<img src="twitter.png"  alt="" class="img" >
			</div>
			<div class="boxs top-bottom-side" style="left: 790px; top: 1330px">23</div>

			<div class="boxs top-bottom-side" style="left: 680px; top: 1330px">
				<img src="microsoft.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 570px; top: 1330px">25</div>
			<div class="boxs top-bottom-side" style="left: 460px; top: 1330px">
				<img src="epicgames.png" alt="" class="img">
			</div>

			<div class="boxs top-bottom-side" style="left: 350px; top: 1330px">
				<img src="ubisoft.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 240px; top: 1330px">28</div>
			<div class="boxs top-bottom-side" style="left: 130px; top: 1330px">
				<img src="blizzard.svg" alt="" class="img">
			</div>

			<!--четвертая линия-->
			<div class="boxs top-bottom-side" style="left: 20px; top: 1330px; background: red">30</div>

			<div class="boxs left-right-side" style="left: 20px; top: 1180px">
				<img src="lv.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 1070px">
				<img src="chanel.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 960px">33</div>

			<div class="boxs left-right-side" style="left: 20px; top: 850px">
				<img src="gucci.png " alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 740px">35</div>
			<div class="boxs left-right-side" style="left: 20px; top: 630px">
				<img src="amazon.png" alt="" class="img">
			</div>

			<div class="boxs left-right-side" style="left: 20px; top: 520px">
				<img class="img" src="apple.png" alt="">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 410px"></div>
			<div class="boxs left-right-side" style="left: 20px; top:300px">
				<img class="img" src="spacex.png" alt="">
			</div>
		</div>
		<div class="player-info-2">
		<h2>Игрок 2</h2>
		<h3 class="number2">0</h3>
		<img src="dice.png" class="dice2 w-50">
		<h5>Деньги: <span class="player2_money">0</span>$</h5>
		<div class="player2_companies">
			<p class="companies">Купленные компании: </p>
		</div>
	</div>

	<script type="text/javascript">
		let checkPlayer = 1;

		class Player {
			dice; // кубик
			number; // вывод числа кубика
			wallet; //кошелек игрока 
			figure; //фигурка игрока
			purch_comp; //купленные компании

			step = 0;
			money = 1500;

			taxes = [100,500,1000];

			enemyID;
			playerID;

			constructor(arg) {
				this.playerID = arg;

				this.dice = document.querySelector(".dice" + arg);
				this.number = document.querySelector(".number" + arg);
				this.wallet = document.querySelector(".player"+arg+"_money");
				this.figure = document.querySelector(".player"+arg);
				this.purch_comp = document.querySelector(".player"+arg+"_companies");

				console.log(this.wallet);

				if(arg==1){
					this.enemyID = 2;
				} else {
					this.enemyID = 1;
				}

				let self = this;

				let randomizer = function(arg) {
					let random = Math.random() * arg;
					let round = Math.round(random)
					return round
				}							

				this.dice.onclick = function() {
					if(checkPlayer == arg){
						if(self.step>=0) {
							self.step = self.step + 1;
							console.log("ходит игрок" + self.playerID);
							self.payingTax(self.money, self.wallet, randomizer(2), self.step)
							self.stepback()				
						}
						if(self.step>=39){
							self.step = 0;
						} 

					
						self.figure.style.top = boxes[self.step].style.top
						self.figure.style.left = boxes[self.step].style.left
						
					} else {
						alert("Ждем игрока " + self.enemyID);
					}

					checkPlayer = self.enemyID;
					
				}
			}


			payingTax(money,koshel,random,step) {			
				let tax = this.taxes[random];				
				if(step==3||step==6||step==9){		
					alert("Игрок " + this.playerID + " платит налоги")	
					console.log("плоти налоги")
					money = money - tax;
					koshel.innerHTML = money;			
				}	
			}

			stepback() {
				if(this.step==2){
					this.step = this.step - 2				
				}
			}

		}


		let boxes = document.querySelectorAll(".boxs");

		let player1 = new Player(1);
		let player2 = new Player(2);



		boxes[0].company = { //компания пустышка, для коробки чтобы не было ошибок

		}		

		boxes[1].company = {
			name : "Розтор",
			price : 150,
			owner : 0
		}

		boxes[2].company = {
			name : "Айгуль",
			price : 200,
			owner : 0
		}

		boxes[3].company = { //компания пустышка, для коробки чтобы не было ошибок

		}
		boxes[4].company = { //компания пустышка, для коробки чтобы не было ошибок

		}
		boxes[5].company = { //компания пустышка, для коробки чтобы не было ошибок

		}
		boxes[6].company = { //компания пустышка, для коробки чтобы не было ошибок

		}

		boxes[39].company = { //компания пустышка, для коробки чтобы не было ошибок

		}	
	
	</script>
</body>
</html>