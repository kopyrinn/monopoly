<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="d-flex">
		<div class="player-info-1">
			<h2>Игрок 1</h2>
			<img src="dice.png" class="dice1 w-50">
			<h5>Деньги: <span class="player1_money">0</span>$</h5>
			<div class="player1_companies">
				<p class="companies">Купленные компании:</p>
			</div>
		</div>
		<div class="content">
			<img src="player1.png" class="player1" style="top:145px; left:20px;">
			<img src="player2.png" class="player2" style="top:145px; left:70px;">
			<!--первая линия-->
			<div class="boxs top-bottom-side" style="left: 20px; top:145px">
				<h4>START</h4>
			</div>
			<div class="boxs top-bottom-side" style="left: 130px; top:145px">
				<img src="roztor.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 240px; top:145px">
				<img src="aigul.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side"  style="left: 350px; top:145px">3
				КАЗНА
			</div>

			<div class="boxs top-bottom-side" style="left: 460px; top:145px">
				<img src="hozmarket.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 570px; top:145px">
				<img src="bershka.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 680px;   top:145px">6</div>

			<div class="boxs top-bottom-side" style="left: 790px; top:145px">
				<img src="zara.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 900px; top:145px">
				<img src="hm.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 1010px;  top:145px" >9</div>

			<!--вторая линия-->
			<div class="boxs top-bottom-side" style="left: 1120px; top:145px">10
				<p>иди назад на -5 клеток</p>
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 300px">
				<img src="burgerking.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 410px">
				<img src="kfc.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 520px">13</div>

			<div class="boxs left-right-side" style="left: 1120px;top: 630px">
				<img src="mcdonalds.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 740px">
				<img src="amd.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 850px">16</div>

			<div class="boxs left-right-side" style="left: 1120px; top: 960px">17</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 1070px">
				<img src="intel.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 1180px">
				<img src="nvidia.svg"  alt="" class="img" >
			</div>

			<!--третья линия-->
			<div class="boxs top-bottom-side" style="left: 1120px; top: 1330px; background: red">20</div>

			<div class="boxs top-bottom-side" style="left: 1010px; top: 1330px">21</div>
			<div class="boxs top-bottom-side" style="left: 900px; top: 1330px">
				<img src="twitter.png"  alt="" class="img" >
			</div>
			<div class="boxs top-bottom-side" style="left: 790px; top: 1330px">23</div>

			<div class="boxs top-bottom-side" style="left: 680px; top: 1330px">
				<img src="microsoft.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 570px; top: 1330px">25</div>
			<div class="boxs top-bottom-side" style="left: 460px; top: 1330px">
				<img src="epicgames.png" alt="" class="img">
			</div>

			<div class="boxs top-bottom-side" style="left: 350px; top: 1330px">
				<img src="ubisoft.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 240px; top: 1330px">28</div>
			<div class="boxs top-bottom-side" style="left: 130px; top: 1330px">
				<img src="blizzard.svg" alt="" class="img">
			</div>

			<!--четвертая линия-->
			<div class="boxs top-bottom-side" style="left: 20px; top: 1330px; background: red">30</div>

			<div class="boxs left-right-side" style="left: 20px; top: 1180px">
				<img src="lv.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 1070px">
				<img src="chanel.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 960px">33</div>

			<div class="boxs left-right-side" style="left: 20px; top: 850px">
				<img src="gucci.png " alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 740px">35</div>
			<div class="boxs left-right-side" style="left: 20px; top: 630px">
				<img src="amazon.png" alt="" class="img">
			</div>

			<div class="boxs left-right-side" style="left: 20px; top: 520px">
				<img class="img" src="apple.png" alt="">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 410px"></div>
			<div class="boxs left-right-side" style="left: 20px; top:300px">
				<img class="img" src="spacex.png" alt="">
			</div>
		</div>
		<div class="player-info-2">
		<h2>Игрок 2</h2>
		<img src="dice.png" class="dice2 w-50">
		<h5>Деньги: <span class="player2_money">0</span>$</h5>
		<div class="player2_companies">
			<p class="companies">Купленные компании: </p>
		</div>
	</div>

	<script type="text/javascript">
		let dice1 = document.querySelector(".dice1");
		let dice2 = document.querySelector(".dice2");
		let boxes = document.querySelectorAll(".boxs"); //сохранил все коробки в массив
		let player1 = document.querySelector(".player1");
		let player2 = document.querySelector(".player2");
		let comp1 = document.querySelector(".player1_companies");
		let player1kash = document.querySelector(".player1_money");
		let player2kash = document.querySelector(".player2_money");
		
		

		let randomizer = function(arg) {
			let random = Math.random() * arg;
			let round = Math.round(random)
			return round
		}

		let step = 0;
		let checkPlayer = 1;
		let prison = 0;
		let player1money = 1500;
		let player2money = 1500;

		boxes[0].company = { //компания пустышка, для коробки чтобы не было ошибок

		}		

		boxes[1].company = {
			name : "Розтор",
			price : 150,
			owner : 0
		}

		boxes[2].company = {
			name : "Айгуль",
			price : 200,
			owner : 0
		}

		boxes[3].company = { //компания пустышка, для коробки чтобы не было ошибок

		}
		boxes[4].company = { //компания пустышка, для коробки чтобы не было ошибок

		}
		boxes[5].company = { //компания пустышка, для коробки чтобы не было ошибок

		}
		boxes[6].company = { //компания пустышка, для коробки чтобы не было ошибок

		}

		boxes[39].company = { //компания пустышка, для коробки чтобы не было ошибок

		}	

		let taxes = [100,500,1000];

		let paymentTax = function(arg,playermoney,random) {
			if(arg==3||arg==6||arg==9){ //проверка всех налогов

				let mytax = taxes[random]
				console.log(mytax);
				console.log("плоти налоги")
				playermoney = playermoney - mytax;
				player1kash.innerHTML = playermoney;
				console.log(playermoney) //списание денег определенного игрока
				//уже есть списание денег
			}			
		}


		//ДЛЯ ШАНСОВ ФУНКЦИЯ

		//будем делать через айди плеера

		let buingCompany = function(stepID,playerID,enemyID,color) {
			if(boxes[stepID].company.owner==0){
				let ques = confirm("Свободная компания, покупаете?");
				
				if(ques==true){
					boxes[stepID].company.owner = playerID; //какой плеер становится хозяином компании 
					boxes[stepID].style.background = color; //в какой цвет перекрасить компанию

					if(playerID==1){ //проверить если первый игрок
						player1money = player1money - boxes[stepID].company.price;
						player1kash.innerHTML = player1money;						
						let tag_p = document.createElement("p")
						comp1.appendChild(tag_p)
						tag_p.innerHTML = boxes[stepID].company.name

					} else { //проверить если второй игрок
						player2money = player2money - boxes[stepID].company.price;
						player2kash.innerHTML = player2money;		
						//создать текстовый тег и вывести название компании в руке игрока				
					}			
					

				}
			} else if (boxes[stepID].company.owner==enemyID){ //в случае если компания принадлежит противнику
				alert("плати за компанию")
				if(enemyID==2){
					player1money = player1money - boxes[stepID].company.price;
					player1kash.innerHTML = player1money;

					player2money = player2money + boxes[stepID].company.price;
					player2kash.innerHTML = player2money;
				} else {
					player2money = player2money - boxes[stepID].company.price;
					player2kash.innerHTML = player2money;

					player1money = player1money + boxes[stepID].company.price;	
					player1kash.innerHTML = player1money;				
				}				
		
			}			
		}

		dice1.onclick = function() {
			if(checkPlayer==1){
				let dice = randomizer(5) + 1;
		

				if(step >= 0) {
					step = step + 1;
				
					console.log(boxes[step].company.name)				

					setTimeout(function() {
						buingCompany(step,1,2,"green");							
					}, 1000)

					paymentTax(step,player1money,randomizer(2));	

					if(step==20){
						console.log("тюрьма")
						checkPlayer = 2;
						prison = 1;
					}
				}

				if(step >= 39) {
					step = 0;
				}					

				player1.style.left = boxes[step].style.left
				player1.style.top = boxes[step].style.top
			} else {
				alert("Игрок 2 не закончил ход")
			}

			//checkPlayer = 2;
		}

		let step2 = 0;

	dice2.onclick = function() {
		if(checkPlayer==2){
			console.log("ходит игрок 2")
			let dice = randomizer(5) + 1;
			
				if(step2 >= 0) {
					step2 = step2 + 1;

					if(step2==1){
						console.log(boxes[1].company.name)
						if(boxes[1].company.owner==0){
							let ques = confirm("Свободная компания, покупаете?");
							console.log(ques)
							if(ques==true){
								boxes[1].company.owner = 2;
								boxes[1].style.background = "purple";
								player2money = player2money - boxes[1].company.price;
								//вывод уменьшение денег
								//создать текстовый тег и вывести название компании в руке игрока
							}
						} else if (boxes[1].company.owner==1){
							alert("плати налоги")
							player2money = player2money - boxes[1].company.price;
							//вывод 

							player1money = player1money + boxes[1].company.price;
							//вывод
						}
					} 

					
					if(step2==3||step2==6||step2==9){ //проверка всех налогов
						console.log("плоти налоги")
					}

					if(step2==20){
						console.log("тюрьма")
						checkPlayer = 2;
						prison = 1;
					}
				}

				if(step2 >= 39) {
					step2 = 0;
				}		

				player2.style.left = boxes[step2].style.left
				player2.style.top = boxes[step2].style.top
		} else {
			alert("ждем первого игрока")
		}

		if(prison==1) {
			checkPlayer = 2;
			prison = 0;
		} else {
			checkPlayer = 1;
		}
		
	}

	</script>
</div>
</body>
</html>


